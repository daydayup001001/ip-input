(function(e){function t(t){for(var r,i,s=t[0],u=t[1],l=t[2],c=0,d=[];c<s.length;c++)i=s[c],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&d.push(o[i][0]),o[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);p&&p(t);while(d.length)d.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,s=1;s<n.length;s++){var u=n[s];0!==o[u]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={app:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/ip-input/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var p=u;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"4c4d":function(e,t,n){"use strict";n("c4b4")},"56d7":function(e,t,n){"use strict";n.r(t);var r=n("2b0e"),o=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[e._v(" 仅IP-- "+e._s(e.ipValue)+" "),t("IpInput",{model:{value:e.ipValue,callback:function(t){e.ipValue=t},expression:"ipValue"}}),t("hr"),e._v(" IP+端口-- "+e._s(e.ipPortValue)+" "),t("IpInput",{attrs:{"is-port":""},model:{value:e.ipPortValue,callback:function(t){e.ipPortValue=t},expression:"ipPortValue"}})],1)},a=[],i=function(){var e=this,t=e._self._c;return t("div",{class:e.getClassName},[e._l(e.valueArr,(function(n,r){return t("div",{key:r,staticClass:"ip-input__item"},[t("input",{ref:"inputs",refInFor:!0,attrs:{type:"text"},domProps:{value:isNaN(e.valueArr[r])?"":e.valueArr[r]},on:{input:function(t){return e.handleInput(r,t)},keydown:function(t){return e.handleKeyDown(r,t)}}}),3!==r?[t("span",[e._v(".")])]:e._e()],2)})),e.isPort?t("div",{staticClass:"ip-input__item"},[[t("span",[e._v(":")])],t("input",{directives:[{name:"model",rawName:"v-model",value:e.port,expression:"port"}],ref:"inputs",attrs:{type:"text"},domProps:{value:e.port},on:{input:[function(t){t.target.composing||(e.port=t.target.value)},function(t){return e.handleInput(4,t)}],keydown:function(t){return e.handleKeyDown(4,t)}}})],2):e._e()],2)},s=[];function u(e){var t,n,r,o,a,i={};return e.setSelectionRange?(i.begin=e.selectionStart,i.end=e.selectionEnd,i.result=e.value.substring(i.begin,i.end)):document.selection&&("input"===e.tagName.toLowerCase()?(t=document.selection.createRange(),n=e.createTextRange(),n.collapse(!0),n.select(),r=document.selection.createRange(),r.setEndPoint("EndToEnd",t),i.begin=r.text.length-t.text.length,i.end=r.text.length,i.result=t.text,t.select()):"textarea"===e.tagName.toLowerCase()&&(o=document.selection.createRange(),a=o.duplicate(),a.moveToElementText(e),a.setEndPoint("EndToEnd",o),i.begin=a.text.length-o.text.length,i.end=a.text.length,i.result=o.text)),e.focus(),i}function l(e){return e=parseInt(e),!isNaN(e)&&e>=0&&e<=255}function p(e){return e=parseInt(e),!isNaN(e)&&e>=0&&e<=65535}var c={props:{className:{type:String,default:""},value:{type:String,default:"..."},isPort:{type:Boolean,default:!1},isError:{type:Function,default:()=>!1},onChange:{type:Function,default:()=>{}}},data(){return{valueArr:[],port:""}},mounted(){let{value:e,isPort:t}=this.$props;if(e||(e=t?".../":"..."),t){const t=e.split("/");this.port=t[1],e=t[0].split(".")}else e=e.split(".");this.valueArr=e},methods:{handleInput(e,t){let n=parseInt(t.target.value);4===e?(this.port=t.target.value.replace(/[^0-9]/g,""),""===t.target.value||isNaN(n)||p(n)||(this.port=65535)):(this.$set(this.valueArr,e,t.target.value.replace(/[^0-9]/g,"")),""===t.target.value||isNaN(n)||l(n)||(n=255),this.$set(this.valueArr,e,n),console.log("🚀 ~ this.valueArr:",this.valueArr),this.onPropsChange(),!isNaN(n)&&3===String(n).length&&e<3&&this.$refs.inputs[e+1].focus()),console.log("🚀 ~ this.getIpPortFormat:",this.getIpPortFormat),this.$emit("input",this.getIpPortFormat)},handleKeyDown(e,t){(37===t.keyCode||8===t.keyCode)&&0===u(t.target).end&&e>0&&this.$refs.inputs[e-1].focus(),39===t.keyCode&&u(t.target).end===t.target.value.length&&e<3&&this.$refs.inputs[e+1].focus(),110!==t.keyCode&&190!==t.keyCode||(t.preventDefault(),e<3&&this.$refs.inputs[e+1].focus())},onPropsChange(){this.onChange(this.getIpPortFormat)}},computed:{getClassName(){return["ip-input",this.className,this.isError(this.valueArr.join("."))?"has-error":""].join(" ")},getIpPortFormat(){const e=this.valueArr.map(e=>isNaN(e)?"":e).join("."),t=this.isPort?"/"+this.port:"";return`${e}${t}`}}},d=c,f=(n("4c4d"),n("2877")),h=Object(f["a"])(d,i,s,!1,null,"3846c028",null),g=h.exports,v={name:"App",components:{IpInput:g},data(){return{ipValue:"192.168.1.1",ipPortValue:"192.168.1.1/80"}}},m=v,y=Object(f["a"])(m,o,a,!1,null,null,null),b=y.exports;new r["a"]({el:"#app",render:e=>e(b)})},c4b4:function(e,t,n){}});
//# sourceMappingURL=app.0fa9de92.js.map